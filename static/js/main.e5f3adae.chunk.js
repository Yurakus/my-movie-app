(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{104:function(e,t,a){},105:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(7),s=a.n(i),o=(a(104),a(30)),l=a(36),c=(a(105),a(15)),m=a(10),u=a(20),h=a(21),v=a(17),p=a(24),g=a(48),d=a.n(g),f=a(170),b=a(178),E=a(177),y=a(76),O=a.n(y),S=a(189),j=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(f.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"10vh"}},r.a.createElement("form",{onSubmit:this.props.search,className:"movie-search-form",noValidate:!0,autoComplete:"off"},r.a.createElement(S.a,{id:"movie-search",label:"Search movies",className:"movie-search-text-field",value:this.props.searchQuery,onChange:function(t){e.props.onChange(t)},InputProps:{endAdornment:r.a.createElement(E.a,null,r.a.createElement(b.a,{onClick:this.props.search},r.a.createElement(O.a,null)))},variant:"outlined"}))))}}]),t}(n.Component),M=a(54),C=a.n(M),k=a(179),I=a(180),N=a(182),w=a(190),P=a(181),D=a(183),F=a(45),Q=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.results.length>0&&r.a.createElement(k.a,{"aria-label":"custom pagination table"},r.a.createElement(I.a,null,this.props.results.map((function(e){return r.a.createElement(P.a,{key:e.imdbID},r.a.createElement(N.a,{style:{width:100}},r.a.createElement(C.a,{src:e.Poster,className:"movie-img"})),r.a.createElement(N.a,null,r.a.createElement(F.a,{component:"p"},e.Title)),r.a.createElement(N.a,{align:"right"},r.a.createElement(F.a,{component:"p"},e.Year)),r.a.createElement(N.a,{align:"right"},r.a.createElement(F.a,{component:"p"},r.a.createElement(o.b,{to:{pathname:"/my-movie-app/movie-detail",state:{movie:e}}},"See Details"))))}))),r.a.createElement(D.a,null,r.a.createElement(P.a,null,r.a.createElement(w.a,{count:this.props.totalResults,rowsPerPage:10,page:this.props.page,onChangePage:this.props.onChangePage,rowsPerPageOptions:[]})))))}}]),t}(n.Component),x=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("h2",{className:"error-message"},this.props.errorMessage)}}]),t}(n.Component),R=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={searchQuery:"",results:[],totalResults:0,page:0,errorMessage:null},a.onSearchQueryChange=a.onSearchQueryChange.bind(Object(v.a)(a)),a.onSearch=a.onSearch.bind(Object(v.a)(a)),a.onPaginationChange=a.onPaginationChange.bind(Object(v.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"onSearchQueryChange",value:function(e){this.setState({searchQuery:e.target.value})}},{key:"onSearch",value:function(e){e.preventDefault(),this.setState({page:0}),this.fetchMovies(1)}},{key:"onPaginationChange",value:function(e,t){this.setState({page:t}),this.fetchMovies(t+1)}},{key:"fetchMovies",value:function(e){var t=this;d.a.get("http://www.omdbapi.com/",{params:{apikey:"a8871d91",s:this.state.searchQuery,page:e}}).then((function(e){"False"===e.data.Response?t.setState({errorMessage:e.data.Error}):t.setState({results:e.data.Search,totalResults:parseInt(e.data.totalResults),errorMessage:null})})).catch((function(e){return t.setState({errorMessage:e}),null}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j,{searchQuery:this.state.searchQuery,onChange:this.onSearchQueryChange,search:this.onSearch,errorMessage:this.state.errorMessage}),this.state.errorMessage?r.a.createElement(x,{errorMessage:this.state.errorMessage}):r.a.createElement(Q,{results:this.state.results,totalResults:this.state.totalResults,page:this.state.page,onChangePage:this.onPaginationChange}))}}]),t}(n.Component),J=a(139),T=a(79),Y=a.n(T),A=a(80),B=a.n(A),G=a(192),W=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={movie:{},isSelected:!1,errorMessage:null,isFavourite:!1},a.toggleFavourite=a.toggleFavourite.bind(Object(v.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"toggleFavourite",value:function(){var e=JSON.parse(localStorage.getItem("favouriteMovies"))||[],t=this.state.movie;if(this.state.isFavourite){var a=e.findIndex((function(e){return e.imdbID===t.imdbID}));e.splice(a,1),localStorage.setItem("favouriteMovies",JSON.stringify(e))}else-1===e.findIndex((function(e){return e.imdbID===t.imdbID}))&&(e.push(t),localStorage.setItem("favouriteMovies",JSON.stringify(e)));this.setState({isFavourite:!this.state.isFavourite})}},{key:"componentDidMount",value:function(){var e=this;this.props.location.state&&d.a.get("http://www.omdbapi.com/",{params:{apikey:"a8871d91",i:this.props.location.state.movie.imdbID}}).then((function(t){"False"===t.data.Response?e.setState({errorMessage:t.data.Error}):(e.setState({movie:t.data,errorMessage:null,isSelected:!0}),(JSON.parse(localStorage.getItem("favouriteMovies"))||[]).findIndex((function(e){return e.imdbID===t.data.imdbID}))>-1&&e.setState({isFavourite:!0}))})).catch((function(t){return e.setState({errorMessage:t}),null}))}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.errorMessage&&r.a.createElement(x,{errorMessage:this.state.errorMessage}),r.a.createElement(J.a,{className:"movie-detail-paper"},this.state.isSelected?r.a.createElement(f.a,{container:!0},r.a.createElement(f.a,{item:!0,xs:6,md:3},r.a.createElement(C.a,{src:this.state.movie.Poster,className:"movie-detail-img"})),r.a.createElement(f.a,{item:!0,xs:6,md:9,className:"movie-detail-text"},r.a.createElement(F.a,{variant:"h5",component:"h1"},this.state.movie.Title,this.state.isFavourite?r.a.createElement(G.a,{title:"Remove from favourites","aria-label":"remove from favourites"},r.a.createElement(Y.a,{style:{float:"right"},onClick:this.toggleFavourite})):r.a.createElement(G.a,{title:"Add to favourites","aria-label":"add to favourites"},r.a.createElement(B.a,{style:{float:"right"},onClick:this.toggleFavourite}))),r.a.createElement(F.a,{component:"p"},r.a.createElement("strong",null,"Year:")," ",this.state.movie.Year," ",r.a.createElement("br",null),r.a.createElement("strong",null,"Genre:")," ",this.state.movie.Genre," ",r.a.createElement("br",null),r.a.createElement("br",null),this.state.movie.Plot))):"Please select movie"))}}]),t}(n.Component),H=a(176),V=a(184),$=a(186);function q(e){return r.a.createElement(V.a,Object.assign({button:!0,component:o.b},e))}var z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={favourites:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("favouriteMovies"))||[];this.setState({favourites:e})}},{key:"render",value:function(){return r.a.createElement(J.a,{className:"movie-detail-paper"},r.a.createElement(G.a,{title:"Click on movie to see details","aria-label":"click to see details"},r.a.createElement(H.a,{component:"nav","aria-label":"favourite movies"},this.state.favourites.map((function(e){return r.a.createElement(q,{key:e.imdbID,to:{pathname:"/my-movie-app/movie-detail",state:{movie:e}}},r.a.createElement($.a,{primary:e.Title}))})))))}}]),t}(n.Component),K=a(187),L=a(185),U=a(81),X=a.n(U);var Z=function(){return r.a.createElement(o.a,{basename:"/"},r.a.createElement("div",null,r.a.createElement(K.a,{position:"static"},r.a.createElement(L.a,null,r.a.createElement(X.a,{className:"header-item"}),r.a.createElement(o.b,{to:"/movie-search",className:"header-item",activeClassName:"active"},"Movie Search"),r.a.createElement(o.b,{to:"/movie-detail",className:"header-item",activeClassName:"active"},"Movie Detail"),r.a.createElement(o.b,{to:"/my-favourite-movies",className:"header-item",activeClassName:"active"},"My Favourite Movies"))),r.a.createElement("hr",null),r.a.createElement(l.a,{exact:!0,path:"/",component:R}),r.a.createElement(l.a,{path:"/movie-search",component:R}),r.a.createElement(l.a,{path:"/movie-detail",component:W}),r.a.createElement(l.a,{path:"/my-favourite-movies",component:z})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},99:function(e,t,a){e.exports=a(138)}},[[99,1,2]]]);
//# sourceMappingURL=main.e5f3adae.chunk.js.map