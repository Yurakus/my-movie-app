(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{104:function(e,t,a){},137:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(7),s=a.n(i),o=(a(104),a(28)),l=a(36),c=a(12),m=a(9),u=a(16),h=a(17),v=a(18),p=a(169),g=a(172),d=a(76),f=a.n(d),b=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p.a,{position:"static"},r.a.createElement(g.a,null,r.a.createElement(f.a,{className:"header-item"}),r.a.createElement(o.b,{to:"/movie-search",className:"header-item",activeClassName:"active"},"Movie Search"),r.a.createElement(o.b,{to:"/movie-detail",className:"header-item",activeClassName:"active"},"Movie Detail"),r.a.createElement(o.b,{to:"/my-favourite-movies",className:"header-item",activeClassName:"active"},"My Favourite Movies"))))}}]),t}(n.Component),E=a(20),y=a(51),O=a.n(y),j=a(173),S=a(179),M=a(178),C=a(78),k=a.n(C),I=a(188),N=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(j.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"10vh"}},r.a.createElement("form",{onSubmit:this.props.search,className:"movie-search-form",noValidate:!0,autoComplete:"off"},r.a.createElement(I.a,{id:"movie-search",label:"Search movies",className:"movie-search-text-field",value:this.props.searchQuery,onChange:function(t){e.props.onChange(t)},InputProps:{endAdornment:r.a.createElement(M.a,null,r.a.createElement(S.a,{onClick:this.props.search},r.a.createElement(k.a,null)))},variant:"outlined"}))))}}]),t}(n.Component),w=a(54),P=a.n(w),D=a(180),F=a(181),Q=a(183),x=a(189),R=a(182),J=a(184),T=a(45),Y=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.results.length>0&&r.a.createElement(D.a,{"aria-label":"custom pagination table"},r.a.createElement(F.a,null,this.props.results.map((function(e){return r.a.createElement(R.a,{key:e.imdbID},r.a.createElement(Q.a,{style:{width:100}},r.a.createElement(P.a,{src:e.Poster,className:"movie-img"})),r.a.createElement(Q.a,null,r.a.createElement(T.a,{component:"p"},e.Title)),r.a.createElement(Q.a,{align:"right"},r.a.createElement(T.a,{component:"p"},e.Year)),r.a.createElement(Q.a,{align:"right"},r.a.createElement(T.a,{component:"p"},r.a.createElement(o.b,{to:{pathname:"/movie-detail",state:{movie:e}}},"See Details"))))}))),r.a.createElement(J.a,null,r.a.createElement(R.a,null,r.a.createElement(x.a,{count:this.props.totalResults,rowsPerPage:10,page:this.props.page,onChangePage:this.props.onChangePage,rowsPerPageOptions:[]})))))}}]),t}(n.Component),A=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("h2",{className:"error-message"},this.props.errorMessage)}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={searchQuery:"",results:[],totalResults:0,page:0,errorMessage:null},a.onSearchQueryChange=a.onSearchQueryChange.bind(Object(E.a)(a)),a.onSearch=a.onSearch.bind(Object(E.a)(a)),a.onPaginationChange=a.onPaginationChange.bind(Object(E.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"onSearchQueryChange",value:function(e){this.setState({searchQuery:e.target.value})}},{key:"onSearch",value:function(e){e.preventDefault(),this.setState({page:0}),this.fetchMovies(1)}},{key:"onPaginationChange",value:function(e,t){this.setState({page:t}),this.fetchMovies(t+1)}},{key:"fetchMovies",value:function(e){var t=this;O.a.get("https://www.omdbapi.com/",{params:{apikey:"a8871d91",s:this.state.searchQuery,page:e}}).then((function(e){"False"===e.data.Response?t.setState({errorMessage:e.data.Error}):t.setState({results:e.data.Search,totalResults:parseInt(e.data.totalResults),errorMessage:null})})).catch((function(e){return t.setState({errorMessage:e}),null}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(N,{searchQuery:this.state.searchQuery,onChange:this.onSearchQueryChange,search:this.onSearch,errorMessage:this.state.errorMessage}),this.state.errorMessage?r.a.createElement(A,{errorMessage:this.state.errorMessage}):r.a.createElement(Y,{results:this.state.results,totalResults:this.state.totalResults,page:this.state.page,onChangePage:this.onPaginationChange}))}}]),t}(n.Component),G=a(138),W=a(80),H=a.n(W),V=a(81),$=a.n(V),q=a(192),z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={movie:{},isSelected:!1,errorMessage:null,isFavourite:!1},a.toggleFavourite=a.toggleFavourite.bind(Object(E.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"toggleFavourite",value:function(){var e=JSON.parse(localStorage.getItem("favouriteMovies"))||[],t=this.state.movie;if(this.state.isFavourite){var a=e.findIndex((function(e){return e.imdbID===t.imdbID}));e.splice(a,1),localStorage.setItem("favouriteMovies",JSON.stringify(e))}else-1===e.findIndex((function(e){return e.imdbID===t.imdbID}))&&(e.push(t),localStorage.setItem("favouriteMovies",JSON.stringify(e)));this.setState({isFavourite:!this.state.isFavourite})}},{key:"componentDidMount",value:function(){var e=this;this.props.location.state&&O.a.get("https://www.omdbapi.com/",{params:{apikey:"a8871d91",i:this.props.location.state.movie.imdbID}}).then((function(t){"False"===t.data.Response?e.setState({errorMessage:t.data.Error}):(e.setState({movie:t.data,errorMessage:null,isSelected:!0}),(JSON.parse(localStorage.getItem("favouriteMovies"))||[]).findIndex((function(e){return e.imdbID===t.data.imdbID}))>-1&&e.setState({isFavourite:!0}))})).catch((function(t){return e.setState({errorMessage:t}),null}))}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.errorMessage&&r.a.createElement(A,{errorMessage:this.state.errorMessage}),r.a.createElement(G.a,{className:"movie-detail-paper"},this.state.isSelected?r.a.createElement(j.a,{container:!0},r.a.createElement(j.a,{item:!0,xs:6,md:3},r.a.createElement(P.a,{src:this.state.movie.Poster,className:"movie-detail-img"})),r.a.createElement(j.a,{item:!0,xs:6,md:9,className:"movie-detail-text"},r.a.createElement(T.a,{variant:"h5",component:"h1"},this.state.movie.Title,this.state.isFavourite?r.a.createElement(q.a,{title:"Remove from favourites","aria-label":"remove from favourites"},r.a.createElement(H.a,{style:{float:"right"},onClick:this.toggleFavourite})):r.a.createElement(q.a,{title:"Add to favourites","aria-label":"add to favourites"},r.a.createElement($.a,{style:{float:"right"},onClick:this.toggleFavourite}))),r.a.createElement(T.a,{component:"p"},r.a.createElement("strong",null,"Year:")," ",this.state.movie.Year," ",r.a.createElement("br",null),r.a.createElement("strong",null,"Genre:")," ",this.state.movie.Genre," ",r.a.createElement("br",null),r.a.createElement("br",null),this.state.movie.Plot))):"Please select movie"))}}]),t}(n.Component),K=a(177),L=a(185),U=a(186);function X(e){return r.a.createElement(L.a,Object.assign({button:!0,component:o.b},e))}var Z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={favourites:[]},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("favouriteMovies"))||[];this.setState({favourites:e})}},{key:"render",value:function(){return r.a.createElement(G.a,{className:"movie-detail-paper"},r.a.createElement(q.a,{title:"Click on movie to see details","aria-label":"click to see details"},r.a.createElement(K.a,{component:"nav","aria-label":"favourite movies"},this.state.favourites.map((function(e){return r.a.createElement(X,{key:e.imdbID,to:{pathname:"/my-movie-app/movie-detail",state:{movie:e}}},r.a.createElement(U.a,{primary:e.Title}))})))))}}]),t}(n.Component);var _=function(){return r.a.createElement(o.a,{basename:"/"},r.a.createElement("div",null,r.a.createElement(b,null),r.a.createElement(l.a,{exact:!0,path:"/",component:B}),r.a.createElement(l.a,{path:"/movie-search",component:B}),r.a.createElement(l.a,{path:"/movie-detail",component:z}),r.a.createElement(l.a,{path:"/my-favourite-movies",component:Z})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},99:function(e,t,a){e.exports=a(137)}},[[99,1,2]]]);
//# sourceMappingURL=main.d17f848c.chunk.js.map